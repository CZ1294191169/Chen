<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Resume - Start Bootstrap Theme</title>
	<!-- Bootstrap core CSS-->
	<link th:href="@{vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet">


    <!-- 引入bootstrap样式
    	<link href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">-->
    	<script src="https://cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script>



    	<!-- Custom fonts for this template -->
    	<link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700}" rel="stylesheet">
    	<link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i}" rel="stylesheet">
    	<link rel="stylesheet" th:href="@{Wizard/css/bootstrap-datetimepicker.min.css}">
    	<script th:src="@{Wizard/bootstrap-datetimepicker.min.js}"></script>

    	<script th:src="@{css/bootstrap-responsive.min.css}"></script>
    	<script th:src="@{css/bwizard.min.css}"></script>
    	<!-- Custom styles for this template -->
    	<link th:href="@{css/resume.min.css}" rel="stylesheet">

    	<!--<link rel="stylesheet" type="text/css" th:href="@{fonts/Linearicons-Free-v1.0.0/icon-font.min.css}">-->

    	<link th:href="@{vendor/fontawesome-free/css/all.min.css}" rel="stylesheet">

    	<!--<link rel="stylesheet" th:href="@{assets/css/basestyle/style.css}">-->

    	<link th:href="@{css/upload-md.css}" rel="stylesheet">

    	<link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.css" rel="stylesheet" type="text/css">




    	<!-- 引入bootstrap-table样式-->
    	<link href="https://cdn.bootcss.com/bootstrap-table/1.11.1/bootstrap-table.min.css" rel="stylesheet">


    	<!-- jquery -->

    	<script th:src="@{js/bwizard.min.js}"></script>
    	<!-- 引入样式-->



    	<!-- bootstrap-table.min.js -->
    	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

    	<script src="https://cdn.bootcss.com/bootstrap-table/1.11.1/bootstrap-table.min.js"></script>

    	<script src="https://cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    	<!-- 引入中文语言包 -->
    	<script src="https://cdn.bootcss.com/bootstrap-table/1.11.1/locale/bootstrap-table-zh-CN.min.js"></script>

    	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />


    	<script type="text/javascript" th:inline="javascript">

    		$(document).ready(function(){


           // alert("hey");
           var basePath = [[${#httpServletRequest.getScheme() + "://" + #httpServletRequest.getServerName() + ":" + #httpServletRequest.getServerPort() + #httpServletRequest.getContextPath()}]];



           $.getJSON(basePath+'/user/init',function(data){
                var websocket = null;

                   //判断当前浏览器是否支持WebSocket
                   if('WebSocket' in window){
                       websocket = new WebSocket("ws://localhost:8080/meeting/websocket/"+data.user.userId);
                   }
                   else{
                       //alert('Not support websocket')
                       toastr.error('Not support websocket')
                   }

                   //连接发生错误的回调方法
                   websocket.onerror = function(){
                       //setMessageInnerHTML("error");
                   };

                   //连接成功建立的回调方法
                   websocket.onopen = function(event){
                       //setMessageInnerHTML("open");
                   }

                   //接收到消息的回调方法
                   websocket.onmessage = function(event){
                       setMessageInnerHTML(event.data);
                   }

                   //连接关闭的回调方法
                   websocket.onclose = function(){
                      // setMessageInnerHTML("close");
                   }

                   //监听窗口关闭事件，当窗口关闭时，主动去关闭websocket连接，防止连接还没断开就关闭窗口，server端会抛异常。
                   window.onbeforeunload = function(){
                       websocket.close();
                   }

                   //将消息显示在网页上
                   function setMessageInnerHTML(innerHTML){
                      // document.getElementById('message').innerHTML += innerHTML + '<br/>';
                        if(innerHTML=="success"){
                            //toastr.success("登陆成功")
                        }
                        else if(innerHTML=="wrong"){
                            toastr.warning("账号同时在线中")
                        }
                        else{
                       toastr.info("(这是一个广播)",innerHTML)
                       }
                   }

                   //关闭连接
                   function closeWebSocket(){
                       websocket.close();
                   }

                   //发送消息
                   function send(){
                      // var message = document.getElementById('text').value;
                       websocket.send(message);
                   }

           	var uploadImg=uploadMd.defineImgUpload({
                               container:'#imgUpload', //插件所需容器
                               url:'http://localhost:8080/meeting/user/updateIcon', //文件上传地址
                               max:1, //允许选择的最大上传图片数
                               parameter:{test:'1223',pcs:'sss'}, //图片上传额外参数
                               previewImg:[''+data.user.loginIcon+''], //传入预览的图片，适用编辑时展示曾经上传的图片
                               fileInputName:'file1' //图片文件表单项名称
                           });

           	if(data.success){
           		var user = data.user;
           		$('#des').html(''+user.personDes+'');
           		$('#phone').html(''+user.personPhone+'')
           		$('#department').html(''+user.departmentId+'')
           		$('#username').html(''+user.userName+'')
           		$('#email').attr("href","mailto:"+user.personEmail+'')
           		$('#jointime').html(''+data.date+'')
           		$('#empid').html(''+user.empCode+'')
           		var src=''+user.loginIcon+'';
           		$('#usericon').attr("src", src);
           	}
           	else {
           		alert('fail ')
           	}

           	$("#Mymodal").click(function(){
           		$('#uname').val(data.user.userName);
           		$('#upwd').val(data.user.loginPassword);
           		$('#uemail').val(data.user.personEmail);
           		$('#uphone').val(data.user.personPhone);
           		$("#new").modal("show");

           	});





           });



       });



   </script>
   <script>
   	$(function () {
   		$('#mytab1').bootstrapTable({
   			method : 'get',
                                url : "user/getUserListPage",//请求路径
                                toolbar: '#toolbar',
                                striped : true, //是否显示行间隔色
                                pageNumber : 1, //初始化加载第一页
                                pagination : true,//是否分页
                                sidePagination : 'client',//server:服务器端分页|client前端分页
                                pageSize : 4,//单页记录数
                                pageList : [ 5, 10, 20, 30 ],//可选择单页记录数
                                showRefresh : true,//刷新按钮
                                search: true,
                                clickToSelect: true,
                                queryParams : function(params) {//上传服务器的参数
                                    var temp = {//如果是在服务器端实现分页limitoffset这两个参数是必须的
                                    	name:$('#search_name').val(),
                                    	tel:$('#search_room').val()

                                    };
                                    return temp;
                                },

                                columns : [ {
                                	title : '用户名',
                                	field : 'userName',
                                	sortable : true
                                }, {
                                	title : '会议室',
                                	field : 'roomName',
                                	sortable : true
                                }, {
                                	title : '主题',
                                	field : 'theme',
                                }, {
                                	title : '文件',
                                	field : 'file',
                                    formatter : formatfile,//对返回的数据进行处理再显示
                                },
                                {
                                	title : '开始时间',
                                	field : 'arrangementPeriodstart',
                                },
                                {
                                	title : '结束时间',
                                	field : 'arrangementPeriodend',
                                }
                                 // {
                                 //    title : '操作',
                                 //    field : 'id',
                                 //    formatter : operation,//对资源进行操作
                                 //  }
                                 ]
                             })

                             //value代表该列的值row代表当前对象
                             function formatfile(value, row, index) {
   		                        if(row.file!="无"){
                             	return "<a href='" + 'http://localhost:8080/meeting/user/Download?file='+row.file +'&useName='+ row.userName+"' title='单击打开连接' target='_blank'>" + "文件下载" + "</a>";


   		                        }
   		                        else
   		                            {
   		                                return"<span>无</span>"
   		                            }

   		}

                             //删除编辑操作
                             function operation(value, row, index) {
                             	var id = value;
                             	var result = "";
                             	result += "<a href='javascript:;' class='btn btn-xs green' onclick=\"EditViewById('" + id + "', view='view')\" title='查看'><span class='glyphicon glyphicon-search'>查看</span></a>";
                             	result += "<a href='javascript:;' class='btn btn-xs blue' onclick=\"EditViewById('" + id + "')\" title='编辑'><span class='glyphicon glyphicon-pencil'></span></a>";
                             	result += "<a href='javascript:;' class='btn btn-xs red' onclick=\"DeleteByIds('" + id + "')\" title='删除'><span class='glyphicon glyphicon-remove'></span></a>";
                             	return result;
                             }

                             //查询按钮事件
                             $('#search_btn').click(function() {
                             	$('#mytab1').bootstrapTable('refresh', {
                             		url : 'user/getUserListPage'
                             	});
                             })


                         })
                     </script>

                     <script>
                     	$(function () {
                     		$('#mytab2').bootstrapTable({
                     			method : 'get',
                                                                                                   url : "user/getDepartmentListPage",//请求路径
                                                                                                   striped : true, //是否显示行间隔色
                                                                                                   pageNumber : 1, //初始化加载第一页
                                                                                                   pagination : true,//是否分页
                                                                                                   sidePagination : 'client',//server:服务器端分页|client前端分页
                                                                                                   pageSize : 4,//单页记录数
                                                                                                   pageList : [ 5, 10, 20, 30 ],//可选择单页记录数
                                                                                                   showRefresh : true,//刷新按钮
                                                                                                   search: true,
                                                                                                   clickToSelect: true,
                                                                                                   columns : [ {
                                                                                                   	title : '部门编号',
                                                                                                   	field : 'departmentId',
                                                                                                   	sortable : true
                                                                                                   },
                                                                                                   {
                                                                                                   	title : '部门名称',
                                                                                                   	field : 'departmentName',
                                                                                                   	sortable : true
                                                                                                   },
                                                                                                   {
                                                                                                   	title : '用户名',
                                                                                                   	field : 'userName',
                                                                                                   	sortable : true
                                                                                                   }, {
                                                                                                   	title : '会议室',
                                                                                                   	field : 'roomName',
                                                                                                   	sortable : true
                                                                                                   }, {
                                                                                                   	title : '主题',
                                                                                                   	field : 'theme'
                                                                                                   },
                                                                                                   {
                                                                                                   	title : '开始时间',
                                                                                                   	field : 'arrangementPeriodstart'
                                                                                                   },
                                                                                                   {
                                                                                                   	title : '结束时间',
                                                                                                   	field : 'arrangementPeriodend'
                                                                                                   }]
                                                                                               })

})

</script>
<style  type="text/css">
.glyphicon-thumbs-up{
	color:#4ca450;

}
.glyphicon-thumbs-down{
	color:coral;


}
</style>
<script>
	$(function () {
                                                                                                              //删除编辑操作
                                                                                                              function operation(value, row, index) {
                                                                                                              	if(row.userStatus==0){
                                                                                                              		return[
                                                                                                                                              // '<button id="pass" type="button" class="pass btn btn-default  btn-sm" title="通过"><span class="glyphicon  glyphicon-thumbs-up"></span></button>',
                                                                                                                                              // '<button id="fire" type="button" class="fire btn btn-default  btn-sm" title="拒绝"><span class="glyphicon glyphicon-thumbs-down"></span></button>',
                                                                                                                                             // "<button type=button id=myModal1  data-toggle=\"modal\">"+"修改"+"</button>"
                                                                                                                                             "<button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"  data-toggle=\"modal\" id=\"myModal1\" >修改</button>",

                                                                                                                                             ].join('')}
                                                                                                                                             else if(row.userStatus==1){
                                                                                                                                             	return"<a  class=\'label label-success\'>"+"已审批"+"</a>"
                                                                                                                                             }
                                                                                                                                             else if(row.userStatus==-1){
                                                                                                                                             	return"<a class=\'label label-danger\'>"+"未通过"+"</a>"
                                                                                                                                             }


                                                                                                                                         }

                                                                                                                                         window.operateEvents111 = {
                                                                                                                                         	'click #myModal1':function(e,value,row,index) {
                                                                                                                                          	    // $("#myModal1").click(function(){
                                                                                                                                                  //          		$('#uname').val(data.user.userName);
                                                                                                                                                  //          		$('#upwd').val(data.user.loginPassword);
                                                                                                                                                  //          		$('#uemail').val(data.user.personEmail);
                                                                                                                                                  //          		$('#uphone').val(data.user.personPhone);
                                                                                                                                                    $.getJSON("http://localhost:8080/meeting/app/init",function(data) {
                                                                                                                                                          if(data.success){
                                                                                                                                                              var list = data.meetroomlist;
                                                                                                                                                              var user = data.user;
                                                                                                                                                          var tempHtml='';
                                                                                                                                                          list.map(function(item,index) {
                                                                                                                                                            tempHtml+='<option value="'+
                                                                                                                                                            item.roomId+'">'+item.roomName+'</option>';
                                                                                                                                                          })
                                                                                                                                                          $('#uroom').html(tempHtml);
                                                                                                                                                          }
                                                                                                                                                          })
                                                                                                                                                  $('#uaffiarId').val(row.affairsId);
                                                                                                                                                    $('#uaffiarId').attr('disabled','disabled');
                                                                                                                                                  $('#uaffname').val(row.userName);
                                                                                                                                                  $('#upeo').val(row.participate);


                                                                                                                                                  $('#startTime').val(row.arrangementPeriodstart);
                                                                                                                                                  $('#endTime').val(row.arrangementPeriodend);
                                                                                                                                                  $("#new2").modal("show");

                                                                                                                                                         //  	});




                                                                                                                                                     }


                                                                                                                                                 };
                                                                                                                                                 $('#savechange').click(function() {
                                                                                                                                                 	var data={};
                                                                                                                                                 	data.affairsId = $('#uaffiarId').val();
                                                                                                                                                 	data.userName = $('#uaffname').val();
                                                                                                                                                 	data.participate = $('#upeo').val();

                                                                                                                                                 	var options=$('#uroom option:selected');
                                                                                                                                                    data.roomId=options.val();
                                                                                                                                                 	data.arrangementPeriodstart = $('#startTime').val();
                                                                                                                                                 	data.arrangementPeriodend=$('#endTime').val();
                                                                                                                                                 	var formData = new FormData();
                                                                                                                                                 	formData.append("affairschange",JSON.stringify(data));

                                                                                                                                                 	$.ajax({
                                                                                                                                                 		url:"http://localhost:8080/meeting/user/affchange",
                                                                                                                                                 		type:'POST',
                                                                                                                                                 		data:formData,
                                                                                                                                                 		dataType:'json',
                                                                                                                                                 		contentType:false,
                                                                                                                                                 		processData:false,
                                                                                                                                                 		cache:false,
                                                                                                                                                 		success:function(data){
                                                                                                                                                 			if (data.success){
                                                                                                                                                 				toastr.success("修改成功!");
                                                                                                                                                 				$('#new2').modal('hide')
                                                                                                                                                 			} else
                                                                                                                                                 			{
                                                                                                                                                 				toastr.error("修改失败!");
                                                                                                                                                 			}
                                                                                                                                                 		},
                                                                                                                                                 		error: function (XMLHttpRequest, textStatus, errorThrown) {
                                                                                                                                                 			alert("ajax异常:"+errorThrown);
                                                                                                                                                 		}
                                                                                                                                                 	})
                                                                                                                                                 })
$('#mytab3').bootstrapTable({
	method : 'get',
                                                                                                                                url : "user/meetappList",//请求路径
                                                                                                                                toolbar: '#toolbar',
                                                                                                                                striped : true, //是否显示行间隔色


                                                                                                                                               cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
                                                                                                                                               pagination: true,                   //是否显示分页（*）
                                                                                                                                               sortable: true,                     //是否启用排序
                                                                                                                                               sortOrder: "asc",                   //排序方式
                                                                                                                                               sidePagination: "client",           //分页方式：client客户端分页，server服务端分页（*）
                                                                                                                                               pageNumber: 1,                      //初始化加载第一页，默认第一页,并记录
                                                                                                                                               pageSize: 4,                     //每页的记录行数（*）
                                                                                                                                               pageList: [10, 25, 50, 100],        //可供选择的每页的行数（*）
                                                                                                                                               search: true,                      //是否显示表格搜索
                                                                                                                                               strictSearch: true,
                                                                                                                                               showColumns: false,                  //是否显示所有的列（选择显示的列）
                                                                                                                                               showRefresh: true,                  //是否显示刷新按钮
                                                                                                                                               minimumCountColumns: 2,             //最少允许的列数
                                                                                                                                               clickToSelect: true,                //是否启用点击选中行
                                                                                                                                               //height: 500,                      //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
                                                                                                                                               uniqueId: "affairsId",                     //每一行的唯一标识，一般为主键列
                                                                                                                                               showToggle: false,                   //是否显示详细视图和列表视图的切换按钮
                                                                                                                                               cardView: false,                    //是否显示详细视图
                                                                                                                                               detailView: false,                  //是否显示父子表
                                                                                                                                queryParams : function(params) {//上传服务器的参数
                                                                                                                                    var temp = {//如果是在服务器端实现分页limitoffset这两个参数是必须的
                                                                                                                                    	name:$('#search_name').val(),
                                                                                                                                    	tel:$('#search_room').val()

                                                                                                                                    };
                                                                                                                                    return temp;
                                                                                                                                },

                                                                                                                                columns : [
                                                                                                                                {
                                                                                                                                	title : '申请编号',
                                                                                                                                	field : 'affairsId',
                                                                                                                                	sortable : true
                                                                                                                                }, {
                                                                                                                                	title : '用户姓名',
                                                                                                                                	field : 'userName',
                                                                                                                                	sortable : true
                                                                                                                                }, {
                                                                                                                                	title : '参与人数',
                                                                                                                                	field : 'participate',
                                                                                                                                	sortable: true
                                                                                                                                },
                                                                                                                                {
                                                                                                                                	title : '会议室',
                                                                                                                                	field : 'roomName',
                                                                                                                                	sortable: true
                                                                                                                                },
                                                                                                                                {
                                                                                                                                	title : '文件',
                                                                                                                                	field : 'file',
                                                                                                                                    formatter : formatfile,//对返回的数据进行处理再显示
                                                                                                                                },
                                                                                                                                {
                                                                                                                                	title : '开始时间',
                                                                                                                                	field : 'arrangementPeriodstart',
                                                                                                                                	sortable: true
                                                                                                                                },
                                                                                                                                {
                                                                                                                                	title : '结束时间',
                                                                                                                                	field : 'arrangementPeriodend',
                                                                                                                                	sortable: true
                                                                                                                                },
                                                                                                                                {
                                                                                                                                	title : '申请时间',
                                                                                                                                	field : 'createTime',
                                                                                                                                	sortable: true
                                                                                                                                },
                                                                                                                                {
                                                                                                                                	title : '操作',
                                                                                                                                	field : 'userStatus',
                                                                                                                                	width: 120,
                                                                                                                                	align: 'center',
                                                                                                                                	valign: 'middle',
                                                                                                                                	events:operateEvents111,
                                                                                                                                    formatter : operation//对资源进行操作
                                                                                                                                }
                                                                                                                                ]
                                                                                                                            });

                                                                                                                             //value代表该列的值row代表当前对象
                                                                                                                             function formatfile(value, row, index) {
                                                                                                                                 if(row.file!='无'){
                                                                                                                             	return "<a href='" + 'http://localhost:8080/meeting/user/Download?file='+row.file +'&useName='+ row.userName+"' title='单击打开连接' target='_blank'>" + "文件下载" + "</a>";


                                                                                                                                 }
                                                                                                                                 else{
                                                                                                                                     return"<span>无</span>"
                                                                                                                                 }
                                                                                                                             }




                                                                                                                             //查询按钮事件
                                                                                                                             $('#search_btn').click(function() {
                                                                                                                             	$('#mytab').bootstrapTable('refresh', {
                                                                                                                             		url : 'user/meetappList'
                                                                                                                             	});
                                                                                                                             })




                                                                                                                         })

                                                                                                                     </script>
                                                                                                                     <style>
                                                                                                                     .social-icons {
                                                                                                                     	position: absolute;
                                                                                                                     	margin-bottom: 2rem;
                                                                                                                     	width: 100%;
                                                                                                                     	z-index: 2;
                                                                                                                     }

                                                                                                                     .social-icons ul {
                                                                                                                     	margin-top: 2rem;
                                                                                                                     	width: 100%;
                                                                                                                     	text-align: center;
                                                                                                                     }

                                                                                                                     .social-icons ul > li {
                                                                                                                     	margin-left: 1rem;
                                                                                                                     	margin-right: 1rem;
                                                                                                                     	display: inline-block;
                                                                                                                     }

                                                                                                                     .social-icons ul > li > a {
                                                                                                                     	display: block;
                                                                                                                     	color: white;
                                                                                                                     	background-color: rgba(0, 46, 102, 0.8);
                                                                                                                     	border-radius: 100%;
                                                                                                                     	font-size: 2rem;
                                                                                                                     	line-height: 4rem;
                                                                                                                     	height: 4rem;
                                                                                                                     	width: 4rem;
                                                                                                                     }
                                                                                                                     .demo{padding: 2em 0; background: #fff;}
                                                                                                                     a:hover,a:focus{
                                                                                                                     	text-decoration: none;
                                                                                                                     	outline: none;
                                                                                                                     }
                                                                                                                     #accordion .panel{
                                                                                                                     	border: none;
                                                                                                                     	box-shadow: none;
                                                                                                                     	border-radius: 0;
                                                                                                                     	margin: 0 0 15px 10px;
                                                                                                                     }
                                                                                                                     #accordion .panel-heading{
                                                                                                                     	padding: 0;
                                                                                                                     	border-radius: 30px;
                                                                                                                     }
                                                                                                                     #accordion .panel-title a{
                                                                                                                     	display: block;
                                                                                                                     	padding: 12px 20px 12px 50px;
                                                                                                                     	background: #ebb710;
                                                                                                                     	font-size: 18px;
                                                                                                                     	font-weight: 600;
                                                                                                                     	color: #fff;
                                                                                                                     	border: 1px solid transparent;
                                                                                                                     	border-radius: 30px;
                                                                                                                     	position: relative;
                                                                                                                     	transition: all 0.3s ease 0s;
                                                                                                                     }
                                                                                                                     #accordion .panel-title a.collapsed{
                                                                                                                     	background: #fff;
                                                                                                                     	color: #0d345d;
                                                                                                                     	border: 1px solid #ddd;
                                                                                                                     }
                                                                                                                     #accordion .panel-title a:after,
                                                                                                                     #accordion .panel-title a.collapsed:after{
                                                                                                                     	content: "\f107";
                                                                                                                     	font-family: fontawesome;
                                                                                                                     	width: 55px;
                                                                                                                     	height: 55px;
                                                                                                                     	line-height: 55px;
                                                                                                                     	border-radius: 50%;
                                                                                                                     	background: #ebb710;
                                                                                                                     	font-size: 25px;
                                                                                                                     	color: #fff;
                                                                                                                     	text-align: center;
                                                                                                                     	border: 1px solid transparent;
                                                                                                                     	box-shadow: 0 3px 10px rgba(0, 0, 0, 0.58);
                                                                                                                     	position: absolute;
                                                                                                                     	top: -5px;
                                                                                                                     	left: -20px;
                                                                                                                     	transition: all 0.3s ease 0s;
                                                                                                                     }
                                                                                                                     #accordion .panel-title a.collapsed:after{
                                                                                                                     	content: "\f105";
                                                                                                                     	background: #fff;
                                                                                                                     	color: #0d345d;
                                                                                                                     	border: 1px solid #ddd;
                                                                                                                     	box-shadow: none;
                                                                                                                     }
                                                                                                                     #accordion .panel-body{
                                                                                                                     	padding: 20px 25px 10px 9px;
                                                                                                                     	background: transparent;
                                                                                                                     	font-size: 14px;
                                                                                                                     	color: #8c8c8c;
                                                                                                                     	line-height: 25px;
                                                                                                                     	border-top: none;
                                                                                                                     	position: relative;
                                                                                                                     }
                                                                                                                     #accordion .panel-body p{
                                                                                                                     	padding-left: 25px;
                                                                                                                     	border-left: 1px dashed #8c8c8c;
                                                                                                                     }

                                                                                                                 </style>

                                                                                                             </head>

                                                                                                             <body id="page-top">

                                                                                                             	<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
                                                                                                             		<a class="navbar-brand js-scroll-trigger" href="#page-top">
                                                                                                             			<span class="d-block d-lg-none"></span>
                                                                                                             			<span class="d-none d-lg-block">
                                                                                                             				<img id=usericon class="img-fluid img-profile rounded mx-auto mb-2" src="" alt="">
                                                                                                             			</span>


                                                                                                             		</a>
                                                                                                             		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                                                                                             			<span class="navbar-toggler-icon"></span>
                                                                                                             		</button>
                                                                                                             		<div class="collapse navbar-collapse" id="navbarSupportedContent">
                                                                                                             			<ul class="navbar-nav">
                                                                                                             				<li class="nav-item">
                                                                                                             					<a class="nav-link js-scroll-trigger" href="#about">个人信息</a>
                                                                                                             				</li>
                                                                                                             				<li class="nav-item">
                                                                                                             					<a class="nav-link js-scroll-trigger" href="#experience">会议安排</a>
                                                                                                             				</li>
                                                                                                             				<li class="nav-item">
                                                                                                             					<a class="nav-link js-scroll-trigger" href="#education">详细操作</a>
                                                                                                             				</li>
        <!--<li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#skills">Skills</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#interests">Interests</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#awards">Awards</a>
      </li>-->
  </ul>
</div>
</nav>

<div class="modal fade" id="new">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">信息</div>
			<form class="form-horizontal" role="form">
				<div class="form-group">
					<label for="uname" class="col-sm-2 control-label">头像</label>
					<div class="col-lg-9">
						<div id="imgUpload"></div>
					</div>
				</div>

				<div class="col-lg-12">
					<div id="imgUpload"></div>
				</div>
				<div class="form-group">
					<label for="uname" class="col-sm-2 control-label">姓名</label>
					<div class="col-sm-6">
						<input type="text" id="uname" name="uname" class="form-control well" />
					</div>
				</div>
				<div class="form-group">
					<label for="upwd" class="col-sm-2 control-label">密码</label>
					<div class="col-sm-6">
						<input type="password" id="upwd" name="upwd" class="form-control well" />
					</div>
				</div>
				<div class="form-group">
					<label for="ueamil" class="col-sm-2 control-label">邮箱</label>
					<div class="col-sm-6">
						<input type="text" id="uemail" name="uemail" class="form-control well" />
					</div>
				</div>
				<div class="form-group">
					<label for="uphone" class="col-sm-2 control-label">手机</label>
					<div class="col-sm-6">
						<input type="text" id="uphone" name="uphone" class="form-control well" />
					</div>
				</div>
			</form>
			<div class="modal-footer">
				<button  id=save class="btn btn-success" type="submit">Save</button>
				<button id=cancel class="btn btn-danger" data-dismiss="modal">Cancel</button>
			</div>
		</div>
	</div>
</div>



<div class="modal fade" id="new2">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">会议修改</div>
			<form class="form-horizontal" role="form">


				<div class="col-lg-12">
					<div id="imgUpload"></div>
				</div>
				<div class="form-group">
					<label for="uaffiarId" class="col-sm-2 control-label">编号</label>
					<div class="col-sm-6">
						<input type="text" id="uaffiarId" name="uaffiarId" class="form-control well" />
					</div>
				</div>
				<div class="form-group">
					<label for="uaffname" class="col-sm-2 control-label">姓名</label>
					<div class="col-sm-6">
						<input type="text" id="uaffname" name="uaffname" class="form-control well" />
					</div>
				</div>
				<div class="form-group">
					<label for="upeo" class="col-sm-2 control-label">人数</label>
					<div class="col-sm-6">
						<input type="text" id="upeo" name="upeo" class="form-control well" />
					</div>
				</div>

				<div class="form-group">
					<label for="uroom" class="col-sm-2 control-label">会议室</label>
					<div class="col-sm-6"><select class="form-control" id="uroom">
						<select class="form-control" id="uroom" >
						</select>
					</select></div>
				</div>
				<div class="form-group">
					<label for="upeo" class="col-sm-2 control-label">开始时间</label>
					<div class="col-sm-6">
						<input class="form-control input-inline input-sm form_datetime"
						name="tradeTime" id="startTime" size="12" type="text" placeholder="会议开始时间"
						data-date-format="yyyy-mm-dd HH:mm:SS"/>
					</div>
				</div>
				<div class="form-group">
					<label for="upeo" class="col-sm-2 control-label">结束时间</label>
					<div class="col-sm-6">
						<input class="form-control input-inline input-sm form_datetime"
						name="tradeTime" id="endTime" size="12" type="text" placeholder="会议结束时间"
						data-date-format="yyyy-mm-dd HH:mm:SS"/>
					</div>
				</div>
			</form>
			<div class="modal-footer">
				<button  id=savechange class="btn btn-success" type="submit">Save</button>
				<button id=cancel class="btn btn-danger" data-dismiss="modal">Cancel</button>
			</div>
		</div>
	</div>
</div>


<div class="container-fluid p-0">

	<section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="about">
		<div class="w-100">
			<h1 class="mb-0">欢迎你!
				<span class="text-primary" id="username">Taylor</span>
			</h1>
			<div class="subheading mb-5">员工编号<label id="empid"></label>
				<a href="mailto:name@email.com">email</a>
			</div>
			<label>部门所属</label><p class="lead mb-5" id="department">empid</p>
			<label>入职时间: </label><p class="lead mb-5" id="jointime">empid</p>
			<label>联系方式: </label><p class="lead mb-5" id="phone">empid</p>
			<p class="lead mb-5" id="des">just placehoder</p>

		</div>
	</section>

	<hr class="m-0">

	<section class="resume-section p-3 p-lg-5 d-flex justify-content-center" id="experience">
		<div class="w-100">
			<section class="body">


				<section class="body">
					<div class="demo">
						<div class="container">
							<div class="row">
								<div class="col-md-offset-3 col-md-12">
									<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingOne">
												<h4 class="panel-title">
													<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
														个人会议记录
													</a>
												</h4>
											</div>
											<div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
												<div class="panel-body">
													<table id="mytab1" class="table table-hover"></table>
												</div>
											</div>
										</div>

										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingTwo">
												<h4 class="panel-title">
													<a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
														部门会议记录
													</a>
												</h4>
											</div>
											<div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
												<div class="panel-body">
													<div id="collapseTwo" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
														<div class="panel-body">
															<table id="mytab2" class="table table-hover"></table>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingThree">
												<h4 class="panel-title">
													<a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
														申请会议记录
													</a>
												</h4>
											</div>
											<div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
												<div class="panel-body">
													<table id="mytab3" class="table table-hover"></table>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>

				<hr class="m-0">

				<section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="education">

					<div class="w-100">
						<div class="content">




							<div class="row">

								<div class="col-md-offset-3 col-md-12">
									<div class="card ">
										<div class="card-header">详细操作</div>
										<div class="card-body">


											<div class="media align-items-center">
												<div class="media-body">申请会议</div>
												<button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="modal" data-target="#basicModal" id="app">进入</button>
											</div>

											<hr>

											<div class="media align-items-center">
												<div class="media-body">个人日程</div>
												<button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="modal" data-target="#noAnimationModal" id="cal">进入</button>
											</div>

											<hr>

											<div class="media align-items-center">
												<div class="media-body">修改用户信息 </div>
												<button type="button" class="btn btn-sm btn-outline-secondary"  data-toggle="modal" id="Mymodal" data-target="#longModal">进入</button>

											</div>
											<hr>
											<div class="media align-items-center">
                                            												<div class="media-body">登出 </div>
                                            												<button id="logouthere" type="button" class="btn btn-sm btn-outline-secondary"  data-toggle="modal" data-target="#longModal">登出</button>

                                            											</div>


										</div>
									</div>
								</div>
							</div>

						</div>
					</div>

				</section>

				<hr class="m-0">

				<!--

				<section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="skills">
					<div class="w-100">

					</div>
				</section>

				<hr class="m-0">

				<section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="interests">
					<div class="w-100">
					</div>
				</section>

				<hr class="m-0">

				<section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="awards">
					<div class="w-100">

					</div>
				</section>
				-->
			</section>

		</div>


		<script>
			$(document).ready(function(){



				$('#save').click(function() {

					var change={};
					change.userName=$('#uname').val();
					change.loginPassword=$('#upwd').val();
					change.personEmail=$('#uemail').val();
					change.personPhone=$('#uphone').val();


					var formData = new FormData();


					formData.append("changeinfo",JSON.stringify(change));


					$.ajax({
						url:"http://localhost:8080/meeting/user/update",
						type:'POST',
						data:formData,
						dataType:'json',
						contentType:false,
						processData:false,
						cache:false,
						success:function(data){
							if (data.success){
								$('#new').modal('hide')
								toastr.success("修改成功!");



							} else
							{
								toastr.error("修改失败!");
							}
						},
						error: function (XMLHttpRequest, textStatus, errorThrown) {

							toastr.error("ajax异常:"+errorThrown);
						}
					})

				})

			})
		</script>
		<script>


			$('.panel-heading').on('click',function () {
				var self = this;
				$(self).nextAll().eq(0).collapse("show");
			})
		</script>
		<script>
        //     $(".form_datetime").datetimepicker({
        //     autoclose: true,   //选择后自动关闭当前时间控件
        //     format: "yyyy-mm-dd hh:ii:ss" //时间格式
        // });

        $(".form_datetime").datetimepicker({
        	language: "zh-CN",
                        autoclose: true,//选中之后自动隐藏日期选择框
                        clearBtn: true,//清除按钮
                        todayBtn: true,//今日按钮
                        format: "yyyy-mm-dd hh:ii:ss"//日期格式，详见 http://bootstrap-datepicker.readthedocs.org/en/release/options.html#format
                    });

                </script>


                <script type="text/javascript">
                	$("#wizard").bwizard();
                </script>


                <script type="text/javascript">
                	$(document).ready(function(){
                		$("#app").click(function(){
                			location.href="/meeting/app";
                		});
                	});
                	$(document).ready(function(){
                		$("#cal").click(function(){
                			location.href="/meeting/cal";
                		});
                	});
                	$(document).ready(function(){
                                    		$("#logouthere").click(function(){
                                    			location.href="/meeting/login";
                                    		});
                                    	});
                </script>
                <script th:src="@{js/upload-md.js}"></script>
                <script>

                </script>


                <script th:src="@{vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>

                <!-- Plugin JavaScript -->
                <script th:src="@{vendor/jquery-easing/jquery.easing.min.js}"></script>

                <!-- Custom scripts for this template -->
                <script th:src="@{js/resume.min.js}"></script>

                <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js" type="text/javascript"></script>





            </section>
        </div>
    </body>

    </html>
